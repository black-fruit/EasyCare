"v0.4.8 Geetest Inc.";!function(e){"use strict";if(void 0===e)throw new Error("Geetest requires browser environment");var t=e.document,n=e.Math,o=t.getElementsByTagName("head")[0];function r(e){this._obj=e}function a(e){var t=this;new r(e)._each(function(e,n){t[e]=n})}r.prototype={_each:function(e){var t=this._obj;for(var n in t)t.hasOwnProperty(n)&&e(n,t[n]);return this}},a.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return i(this.type)?this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(e){var t=this;new r(e)._each(function(e,n){t[e]=n})}};var i=function(e){return"string"==typeof e},c=function(e){return"object"==typeof e&&null!==e},s=/Mobi/i.test(navigator.userAgent)?3:0,l={},f={},u=function(e,t,n,o){t=function(e){return e.replace(/^https?:\/\/|\/$/g,"")}(t);var a=function(e){return 0!==(e=e.replace(/\/+/g,"/")).indexOf("/")&&(e="/"+e),e}(n)+function(e){if(!e)return"";var t="?";return new r(e)._each(function(e,n){(i(n)||function(e){return"number"==typeof e}(n)||function(e){return"boolean"==typeof e}(n))&&(t=t+encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")}),"?"===t&&(t=""),t.replace(/&$/,"")}(o);return t&&(a=e+t+a),a},g=function(e,n,r,a,i,c,s){var l=function(f){!function(e,n){var r=t.createElement("script");r.charset="UTF-8",r.async=!0,/static\.geetest\.com/g.test(e)&&(r.crossOrigin="anonymous"),r.onerror=function(){n(!0)};var a=!1;r.onload=r.onreadystatechange=function(){a||r.readyState&&"loaded"!==r.readyState&&"complete"!==r.readyState||(a=!0,setTimeout(function(){n(!1)},0))},r.src=e,o.appendChild(r)}(u(r,a[f],i,c),function(t){if(t)if(f>=a.length-1){if(s(!0),n){e.error_code=508;var o=r+a[f]+i;d(e,o)}}else l(f+1);else s(!1)})};l(0)},p=function(t,o,r,a){if(c(r.getLib))return r._extend(r.getLib),void a(r);if(r.offline)a(r._get_fallback_config());else{var i="geetest_"+(parseInt(1e4*n.random())+(new Date).valueOf());e[i]=function(t){"success"==t.status?a(t.data):t.status?a(r._get_fallback_config()):a(t),e[i]=void 0;try{delete e[i]}catch(e){}},g(r,!0,r.protocol,t,o,{gt:r.gt,callback:i},function(e){e&&a(r._get_fallback_config())})}},d=function(e,t){var n,o,r,a,i,c,l;g(e,!1,e.protocol,["monitor.geetest.com"],"/monitor/send",{time:(n=new Date,o=n.getFullYear(),r=n.getMonth()+1,a=n.getDate(),i=n.getHours(),c=n.getMinutes(),l=n.getSeconds(),r>=1&&r<=9&&(r="0"+r),a>=0&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i),c>=0&&c<=9&&(c="0"+c),l>=0&&l<=9&&(l="0"+l),o+"-"+r+"-"+a+" "+i+":"+c+":"+l),captcha_id:e.gt,challenge:e.challenge,pt:s,exception_url:t,error_code:e.error_code},function(e){})},h=function(e,t){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof t.onError)throw new Error(n[e]);t.onError(n[e])};(e.Geetest||t.getElementById("gt_lib"))&&(f.slide="loaded"),e.initGeetest=function(t,n){var o=new a(t);t.https?o.protocol="https://":t.protocol||(o.protocol=e.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==t.gt&&"3bd38408ae4af923ed36e13819b14d42"!==t.gt||(o.apiserver="yumchina.geetest.com/",o.api_server="yumchina.geetest.com"),t.gt&&(e.GeeGT=t.gt),t.challenge&&(e.GeeChallenge=t.challenge),c(t.getType)&&o._extend(t.getType),p([o.api_server||o.apiserver],o.typePath,o,function(t){var r=t.type,a=function(){o._extend(t),n(new e.Geetest(o))};l[r]=l[r]||[];var i=f[r]||"init";"init"===i?(f[r]="loading",l[r].push(a),g(o,!0,o.protocol,t.static_servers||t.domains,t[r]||t.path,null,function(e){if(e)f[r]="fail",h("networkError",o);else{f[r]="loaded";for(var t=l[r],n=0,a=t.length;n<a;n+=1){var i=t[n];"function"==typeof i&&i()}l[r]=[]}})):"loaded"===i?a():"fail"===i?h("networkError",o):"loading"===i&&l[r].push(a)})}}(window);
import parseRestUrl from '../parseRestUrl';

describe('测试 parseRestUrl', () => {

  it('1. data 为 undefined 或者 null', () => {
    expect(parseRestUrl('/abc/:aaa/1234')).toBe('/abc/:aaa/1234');
    expect(parseRestUrl('/abc/:aaa/1234', null)).toBe('/abc/:aaa/1234');
  })

  it('2. 测试 url 不是 restRul ', () => {
    expect(parseRestUrl('/abc/aaa', { uid: 'aaa' })).toBe('/abc/aaa');
  })

  it('3.测试替换 成功', () => {
    expect(parseRestUrl('/abc/:uid', { uid: '1234' })).toBe('/abc/1234');
    expect(parseRestUrl('/abc/:uid?a=1', { uid: '1234' })).toBe('/abc/1234?a=1');
  })

  it('4.key 不对应的时候，不会替换', () => {
    expect(parseRestUrl('/abc/:uid?b=1234', { id: 'aaa' })).toBe('/abc/:uid?b=1234')
  })
})
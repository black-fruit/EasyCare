import childNodeRemovePolyfill from '../../polyfill/ChildNode.remove';

describe('测试 childNodeRemovePolyfill', () => {

  const element = {};

  it('1.测试添加 remove 方法', () => {
    expect(element.remove).toBeUndefined()
    childNodeRemovePolyfill([element]);
    expect(element.remove).toBeTruthy();
  })

  it('2. 测试 remove 的运行', () => {
    element.parentNode = null;
    element.remove();

    element.parentNode = {
      removeChild: () => { }
    };
    const spyRemoveChild = spyOn(element.parentNode, 'removeChild');
    expect(spyRemoveChild).not.toBeCalled();
    element.remove();
    expect(spyRemoveChild).toBeCalled();
  })
});
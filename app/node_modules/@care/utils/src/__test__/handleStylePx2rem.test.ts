import handleStylePx2rem from '../handleStylePx2rem';

describe('测试 handleStylePx2rem 函数', () => {

  it('1. 只有px', () => {
    const style = {
      margin: '375px'
    }
    const expectStyle = {
      margin: '5rem'
    }
    expect(handleStylePx2rem(style)).toEqual(expectStyle);
  })

  it('2. 只有px，同时设置 remUnit', () => {
    const style = {
      margin: '375px'
    }
    const expectStyle = {
      margin: '10rem'
    }
    expect(handleStylePx2rem(style, 37.5)).toEqual(expectStyle);
  })

  it('3. 有px，有其他属性', () => {
    const style = {
      margin: '375px',
      color: '#fff'
    }
    const expectStyle = {
      margin: '5rem',
      color: '#fff'
    }
    expect(handleStylePx2rem(style)).toEqual(expectStyle);
  })

  it('4. 原型上的属性不处理', () => {
    class F {
      public margin: string;
      constructor() {
        this.margin = '375px';
      }
    }
    // @ts-ignore
    F.prototype.padding = '750px';
    const style = new F();
    
    const expectStyle = {
      margin: '5rem',
    }
    expect(handleStylePx2rem(style)).toEqual(expectStyle);
  })


 
})
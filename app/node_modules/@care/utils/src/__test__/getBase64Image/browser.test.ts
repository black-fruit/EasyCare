import getBase64Image from '../../getBase64Image';

describe('测试 getBase64Image 函数', () => {
  const img = document.createElement('img');
  
  it('1. 获取base64格式图片', () => {
    expect(getBase64Image(img)).toEqual(expect.stringContaining('data:image/png;base64'));
  })

  it('2. 测试异常', () => {
    expect(getBase64Image('hello')).toBe('');
  })

  it('3. 不存在ctx', () => {
    HTMLCanvasElement.prototype.getContext = () => null;
    expect(getBase64Image(img)).toBe('');
  })
})